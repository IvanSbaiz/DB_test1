<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
  xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.9.xsd"
  objectQuotingStrategy="QUOTE_ONLY_RESERVED_WORDS">
  <changeSet id="1661449567678-1" author="Ivan (generated)">
    <createTable tableName="countries">
      <column name="countryId" type="CHAR(2)">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="countryName" type="VARCHAR(40)"/>
      <column name="regionId" type="INT">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="1661449567678-2" author="Ivan (generated)">
    <createTable tableName="departments">
      <column autoIncrement="true" name="departmentId" type="INT">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="departmentName" type="VARCHAR(30)">
        <constraints nullable="false"/>
      </column>
      <column name="locationId" type="INT"/>
    </createTable>
  </changeSet>
  <changeSet id="1661449567678-3" author="Ivan (generated)">
    <createTable tableName="employees">
      <column autoIncrement="true" name="employeeId" type="INT">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="firstName" type="VARCHAR(20)"/>
      <column name="lastName" type="VARCHAR(25)">
        <constraints nullable="false"/>
      </column>
      <column name="email" type="VARCHAR(100)">
        <constraints nullable="false"/>
      </column>
      <column name="phoneNumber" type="VARCHAR(20)"/>
      <column name="hireDate" type="date">
        <constraints nullable="false"/>
      </column>
      <column name="jobId" type="INT">
        <constraints nullable="false"/>
      </column>
      <column name="salary" type="DECIMAL(8, 2)">
        <constraints nullable="false"/>
      </column>
      <column name="managerId" type="INT"/>
      <column name="departmentId" type="INT"/>
    </createTable>
  </changeSet>
  <changeSet id="1661449567678-4" author="Ivan (generated)">
    <createTable tableName="jobs">
      <column autoIncrement="true" name="jobId" type="INT">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="jobTitle" type="VARCHAR(35)">
        <constraints nullable="false"/>
      </column>
      <column name="minSalary" type="DECIMAL(8, 2)"/>
      <column name="maxSalary" type="DECIMAL(8, 2)"/>
    </createTable>
  </changeSet>
  <changeSet id="1661449567678-5" author="Ivan (generated)">
    <createTable tableName="locations">
      <column autoIncrement="true" name="locationId" type="INT">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="streetAddress" type="VARCHAR(40)"/>
      <column name="postalCode" type="VARCHAR(12)"/>
      <column name="city" type="VARCHAR(30)">
        <constraints nullable="false"/>
      </column>
      <column name="stateProvince" type="VARCHAR(25)"/>
      <column name="countryId" type="CHAR(2)">
        <constraints nullable="false"/>
      </column>
    </createTable>
  </changeSet>
  <changeSet id="1661449567678-6" author="Ivan (generated)">
    <createTable tableName="regions">
      <column autoIncrement="true" name="regionId" type="INT">
        <constraints nullable="false" primaryKey="true"/>
      </column>
      <column name="regionName" type="VARCHAR(25)"/>
    </createTable>
  </changeSet>
  <changeSet id="1661449567678-7" author="Ivan (generated)">
    <createIndex indexName="countryId" tableName="locations">
      <column name="countryId"/>
    </createIndex>
  </changeSet>
  <changeSet id="1661449567678-8" author="Ivan (generated)">
    <createIndex indexName="departmentId" tableName="employees">
      <column name="departmentId"/>
    </createIndex>
  </changeSet>
  <changeSet id="1661449567678-9" author="Ivan (generated)">
    <createIndex indexName="jobId" tableName="employees">
      <column name="jobId"/>
    </createIndex>
  </changeSet>
  <changeSet id="1661449567678-10" author="Ivan (generated)">
    <createIndex indexName="locationId" tableName="departments">
      <column name="locationId"/>
    </createIndex>
  </changeSet>
  <changeSet id="1661449567678-11" author="Ivan (generated)">
    <createIndex indexName="managerId" tableName="employees">
      <column name="managerId"/>
    </createIndex>
  </changeSet>
  <changeSet id="1661449567678-12" author="Ivan (generated)">
    <createIndex indexName="regionId" tableName="countries">
      <column name="regionId"/>
    </createIndex>
  </changeSet>
  <changeSet id="1661449567678-13" author="Ivan (generated)">
    <addForeignKeyConstraint baseColumnNames="regionId" baseTableName="countries"
      constraintName="countries_ibfk_1" onDelete="CASCADE" onUpdate="CASCADE"
      referencedColumnNames="regionId" referencedTableName="regions"/>
  </changeSet>
  <changeSet id="1661449567678-14" author="Ivan (generated)">
    <addForeignKeyConstraint baseColumnNames="locationId" baseTableName="departments"
      constraintName="departments_ibfk_1" onDelete="CASCADE" onUpdate="CASCADE"
      referencedColumnNames="locationId" referencedTableName="locations"/>
  </changeSet>
  <changeSet id="1661449567678-15" author="Ivan (generated)">
    <addForeignKeyConstraint baseColumnNames="jobId" baseTableName="employees"
      constraintName="employees_ibfk_1" onDelete="CASCADE" onUpdate="CASCADE"
      referencedColumnNames="jobId" referencedTableName="jobs"/>
  </changeSet>
  <changeSet id="1661449567678-16" author="Ivan (generated)">
    <addForeignKeyConstraint baseColumnNames="departmentId" baseTableName="employees"
      constraintName="employees_ibfk_2" onDelete="CASCADE" onUpdate="CASCADE"
      referencedColumnNames="departmentId" referencedTableName="departments"/>
  </changeSet>
  <changeSet id="1661449567678-17" author="Ivan (generated)">
    <addForeignKeyConstraint baseColumnNames="managerId" baseTableName="employees"
      constraintName="employees_ibfk_3" onDelete="RESTRICT" onUpdate="RESTRICT"
      referencedColumnNames="employeeId" referencedTableName="employees"/>
  </changeSet>
  <changeSet id="1661449567678-18" author="Ivan (generated)">
    <addForeignKeyConstraint baseColumnNames="countryId" baseTableName="locations"
      constraintName="locations_ibfk_1" onDelete="CASCADE" onUpdate="CASCADE"
      referencedColumnNames="countryId" referencedTableName="countries"/>
  </changeSet>

</databaseChangeLog>